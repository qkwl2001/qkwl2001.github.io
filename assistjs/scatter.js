var dom = document.getElementById("scatter");
var myChart = echarts.init(dom);
var app = {};

var option;



var hours = [
'11:26','11:27','11:28','11:29','11:30','11:31','11:32','11:33','11:34','11:35','11:36','11:37','11:38','11:39','11:40','11:41','11:42','11:43','11:44','11:45','11:46','11:47','11:48','11:49','11:50','11:51','11:52','11:53','11:54','11:55','11:56','11:57','11:58','11:59','12:00','12:01','12:02','12:03','12:04','12:05','12:06','12:07','12:08','12:09','12:10','12:11','12:12','12:13','12:14','12:15','12:16','12:17','12:18','12:19','12:20','12:21','12:22','12:23','12:24','12:25','12:26','12:27','12:28','12:29','12:30','12:31','12:32','12:33','12:34','12:35','12:36','12:37','12:38','12:39','12:40'
    ];
var days = ['预约取餐', '现场刷卡', '红盒学霸餐','绿盒学霸餐'];

var data = [
    [0,0,1],[0,1,3],[0,2,2],[0,3,3],[0,4,3],[0,5,5],[0,6,4],[0,7,0],[0,8,1],[0,9,0],[0,10,0],[0,11,0],[0,12,0],[0,13,0],[0,14,0],[0,15,0],[0,16,0],[0,17,0],[0,18,0],[0,19,0],[0,20,1],[0,21,0],[0,22,0],[0,23,0],[0,24,1],[0,25,0],[0,26,0],[0,27,1],[0,28,0],[0,29,0],[0,30,0],[0,31,0],[0,32,0],[0,33,0],[0,34,0],[0,35,0],[0,36,1],[0,37,0],[0,38,0],[0,39,4],[0,40,0],[0,41,1],[0,42,1],[0,43,3],[0,44,10],[0,45,5],[0,46,8],[0,47,5],[0,48,5],[0,49,6],[0,50,6],[0,51,11],[0,52,8],[0,53,10],[0,54,14],[0,55,7],[0,56,5],[0,57,5],[0,58,6],[0,59,2],[0,60,0],[0,61,5],[0,62,1],[0,63,3],[0,64,0],[0,65,1],[0,66,0],[0,67,1],[0,68,0],[0,69,0],[0,70,0],[0,71,0],[0,72,0],[0,73,0],[0,74,0],
    [1,0,1],[1,1,2],[1,2,3],[1,3,0],[1,4,1],[1,5,0],[1,6,1],[1,7,3],[1,8,3],[1,9,1],[1,10,2],[1,11,2],[1,12,3],[1,13,1],[1,14,2],[1,15,1],[1,16,0],[1,17,0],[1,18,0],[1,19,1],[1,20,1],[1,21,1],[1,22,3],[1,23,2],[1,24,3],[1,25,6],[1,26,2],[1,27,0],[1,28,1],[1,29,0],[1,30,1],[1,31,2],[1,32,2],[1,33,1],[1,34,3],[1,35,0],[1,36,0],[1,37,0],[1,38,0],[1,39,0],[1,40,0],[1,41,0],[1,42,0],[1,43,0],[1,44,0],[1,45,0],[1,46,0],[1,47,0],[1,48,0],[1,49,0],[1,50,0],[1,51,0],[1,52,0],[1,53,0],[1,54,0],[1,55,0],[1,56,0],[1,57,0],[1,58,0],[1,59,0],[1,60,0],[1,61,0],[1,62,0],[1,63,0],[1,64,0],[1,65,1],[1,66,0],[1,67,0],[1,68,0],[1,69,0],[1,70,0],[1,71,1],[1,72,0],[1,73,0],[1,74,0],
    [2,0,1],[2,1,1],[2,2,3],[2,3,3],[2,4,1],[2,5,2],[2,6,0],[2,7,1],[2,8,1],[2,9,0],[2,10,0],[2,11,0],[2,12,0],[2,13,0],[2,14,0],[2,15,0],[2,16,0],[2,17,0],[2,18,0],[2,19,0],[2,20,0],[2,21,0],[2,22,0],[2,23,0],[2,24,0],[2,25,0],[2,26,0],[2,27,1],[2,28,0],[2,29,0],[2,30,0],[2,31,0],[2,32,1],[2,33,0],[2,34,0],[2,35,1],[2,36,0],[2,37,0],[2,38,0],[2,39,3],[2,40,0],[2,41,0],[2,42,0],[2,43,0],[2,44,4],[2,45,2],[2,46,1],[2,47,1],[2,48,1],[2,49,2],[2,50,4],[2,51,3],[2,52,5],[2,53,6],[2,54,3],[2,55,2],[2,56,1],[2,57,3],[2,58,3],[2,59,1],[2,60,0],[2,61,4],[2,62,0],[2,63,1],[2,64,0],[2,65,0],[2,66,0],[2,67,1],[2,68,0],[2,69,0],[2,70,0],[2,71,0],[2,72,0],[2,73,0],[2,74,0],
    [3,0,0],[3,1,3],[3,2,4],[3,3,2],[3,4,3],[3,5,3],[3,6,4],[3,7,3],[3,8,3],[3,9,1],[3,10,2],[3,11,2],[3,12,3],[3,13,1],[3,14,2],[3,15,1],[3,16,0],[3,17,0],[3,18,0],[3,19,1],[3,20,2],[3,21,1],[3,22,2],[3,23,2],[3,24,3],[3,25,7],[3,26,2],[3,27,0],[3,28,1],[3,29,0],[3,30,1],[3,31,2],[3,32,3],[3,33,1],[3,34,1],[3,35,0],[3,36,1],[3,37,0],[3,38,0],[3,39,0],[3,40,0],[3,41,1],[3,42,1],[3,43,3],[3,44,5],[3,45,4],[3,46,7],[3,47,4],[3,48,4],[3,49,4],[3,50,2],[3,51,5],[3,52,6],[3,53,6],[3,54,9],[3,55,7],[3,56,4],[3,57,2],[3,58,3],[3,59,1],[3,60,0],[3,61,1],[3,62,1],[3,63,1],[3,64,1],[3,65,1],[3,66,1],[3,67,0],[3,68,0],[3,69,0],[3,70,0],[3,71,1],[3,72,0],[3,73,0],[3,74,0]
    ]
option = {
    toolbox:{
        show:false,
        feature:{
            dataZoom:{
                show:true,
                realtime : true,
					start : 20,
					end : 80,
                    type: 'slider', 
            }
        }
    },
    tooltip: {
        position: 'top'
    },
    title: [],
    singleAxis: [],
    dataZoom: [
                    {        
                                id: 'dataZoomX0',  
                                // xAxisIndex:1,
                                singleAxisIndex:[0,1,2,3],   
                                show:true,                              //是否显示 组件。如果设置为 false，不会显示，但是数据过滤的功能还存在。        
                                backgroundColor:"rgba(47,69,84,0)",  //组件的背景颜色        
                                type: 'slider',                         //slider表示有滑动块的，inside表示内置的 
                                handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                handleSize: '105%'       
                               },
                           
                    /*
                    {        
                                id: 'dataZoomX1',  
                                xAxisIndex:1,     
                                show:true,                              //是否显示 组件。如果设置为 false，不会显示，但是数据过滤的功能还存在。        
                                backgroundColor:"rgba(47,69,84,0)",  //组件的背景颜色        
                                type: 'slider',                         //slider表示有滑动块的，inside表示内置的 
                                handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                handleSize: '105%'       
                               }
                           
                    ,
                    {        
                                id: 'dataZoomX2',  
                                xAxisIndex:2,     
                                show:true,                              //是否显示 组件。如果设置为 false，不会显示，但是数据过滤的功能还存在。        
                                backgroundColor:"rgba(47,69,84,0)",  //组件的背景颜色        
                                type: 'slider',                         //slider表示有滑动块的，inside表示内置的 
                                handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                handleSize: '105%'       
                               }
                           
                    ,
                    {        
                                id: 'dataZoomX3',  
                                xAxisIndex:3,     
                                show:true,                              //是否显示 组件。如果设置为 false，不会显示，但是数据过滤的功能还存在。        
                                backgroundColor:"rgba(47,69,84,0)",  //组件的背景颜色        
                                type: 'slider',                         //slider表示有滑动块的，inside表示内置的 
                                handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
                                handleSize: '105%'       
                               }
                           */
                    ],
                    
    series: []
};

days.forEach(function (day, idx) {

    option.title.push({
        textBaseline: 'middle',
        top: (idx + 0.5) * 100 / 7 + '%',
        text: day
    });
    option.singleAxis.push({
        left: 150,
        type: 'category',
        boundaryGap: false,
        data: hours,
        top: (idx * 100 / 7 + 5) + '%',
        height: (100 / 7 - 10) + '%',
        axisLabel: {
            interval: 2
        }
    });
    option.series.push({
        singleAxisIndex: idx,
        coordinateSystem: 'singleAxis',
        type: 'scatter',
        data: [],
        symbolSize: function (dataItem) {
            return dataItem[1] * 4;
        },
        // dataZoom:[{        
        //                         id: 'dataZoomX3',  
        //                         // xAxisIndex:0,     
        //                         show:true,                              //是否显示 组件。如果设置为 false，不会显示，但是数据过滤的功能还存在。        
        //                         backgroundColor:"rgba(47,69,84,0)",  //组件的背景颜色        
        //                         type: 'slider',                         //slider表示有滑动块的，inside表示内置的 
        //                         handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
        //                         handleSize: '105%'       
        //                        }
                           
        //             ],
    });
});

data.forEach(function (dataItem) {
    option.series[dataItem[0]].data.push([dataItem[1], dataItem[2]]);
    
});


if (option && typeof option === 'object') {
    myChart.setOption(option);
}
